{"/Volumes/Work/Projects/Web/mine/path-files/src/getFiles.ts":{"path":"/Volumes/Work/Projects/Web/mine/path-files/src/getFiles.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":11},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":13},"end":{"line":4,"column":28}},"3":{"start":{"line":11,"column":4},"end":{"line":11,"column":81}},"4":{"start":{"line":11,"column":30},"end":{"line":11,"column":79}},"5":{"start":{"line":12,"column":16},"end":{"line":12,"column":18}},"6":{"start":{"line":13,"column":4},"end":{"line":13,"column":36}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":17}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":28}},"9":{"start":{"line":18,"column":13},"end":{"line":18,"column":27}},"10":{"start":{"line":18,"column":38},"end":{"line":18,"column":68}},"11":{"start":{"line":18,"column":75},"end":{"line":18,"column":92}},"12":{"start":{"line":18,"column":106},"end":{"line":18,"column":131}},"13":{"start":{"line":19,"column":4},"end":{"line":37,"column":7}},"14":{"start":{"line":20,"column":23},"end":{"line":20,"column":49}},"15":{"start":{"line":21,"column":8},"end":{"line":36,"column":9}},"16":{"start":{"line":22,"column":12},"end":{"line":25,"column":13}},"17":{"start":{"line":24,"column":16},"end":{"line":24,"column":52}},"18":{"start":{"line":28,"column":12},"end":{"line":35,"column":13}},"19":{"start":{"line":29,"column":16},"end":{"line":31,"column":17}},"20":{"start":{"line":30,"column":20},"end":{"line":30,"column":41}},"21":{"start":{"line":34,"column":16},"end":{"line":34,"column":37}},"22":{"start":{"line":38,"column":4},"end":{"line":38,"column":17}}},"fnMap":{"0":{"name":"getFiles","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":17}},"loc":{"start":{"line":10,"column":33},"end":{"line":15,"column":1}},"line":10},"1":{"name":"_getFiles","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":18}},"loc":{"start":{"line":17,"column":41},"end":{"line":39,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":31},"end":{"line":19,"column":32}},"loc":{"start":{"line":19,"column":47},"end":{"line":37,"column":5}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":81}},"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":81}},{"start":{"line":11,"column":4},"end":{"line":11,"column":81}}],"line":11},"1":{"loc":{"start":{"line":18,"column":38},"end":{"line":18,"column":68}},"type":"cond-expr","locations":[{"start":{"line":18,"column":54},"end":{"line":18,"column":63}},{"start":{"line":18,"column":66},"end":{"line":18,"column":68}}],"line":18},"2":{"loc":{"start":{"line":18,"column":106},"end":{"line":18,"column":131}},"type":"cond-expr","locations":[{"start":{"line":18,"column":122},"end":{"line":18,"column":126}},{"start":{"line":18,"column":129},"end":{"line":18,"column":131}}],"line":18},"3":{"loc":{"start":{"line":21,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":36,"column":9}},{"start":{"line":21,"column":8},"end":{"line":36,"column":9}}],"line":21},"4":{"loc":{"start":{"line":22,"column":12},"end":{"line":25,"column":13}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":25,"column":13}},{"start":{"line":22,"column":12},"end":{"line":25,"column":13}}],"line":22},"5":{"loc":{"start":{"line":28,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":28,"column":12},"end":{"line":35,"column":13}},{"start":{"line":28,"column":12},"end":{"line":35,"column":13}}],"line":28},"6":{"loc":{"start":{"line":29,"column":16},"end":{"line":31,"column":17}},"type":"if","locations":[{"start":{"line":29,"column":16},"end":{"line":31,"column":17}},{"start":{"line":29,"column":16},"end":{"line":31,"column":17}}],"line":29}},"s":{"0":1,"1":1,"2":1,"3":7,"4":1,"5":7,"6":7,"7":7,"8":1,"9":27,"10":27,"11":27,"12":27,"13":27,"14":50,"15":50,"16":23,"17":20,"18":27,"19":20,"20":4,"21":7,"22":27},"f":{"0":7,"1":27,"2":50},"b":{"0":[1,6],"1":[7,20],"2":[12,15],"3":[23,27],"4":[20,3],"5":[20,7],"6":[4,16]},"inputSourceMap":{"version":3,"file":"/Volumes/Work/Projects/Web/mine/path-files/src/getFiles.ts","sources":["/Volumes/Work/Projects/Web/mine/path-files/src/getFiles.ts"],"names":[],"mappings":";;AAAA,yBAA2C;AAC3C,6BAA+B;AAa/B;;;;GAIG;AACH,SAAgB,QAAQ,CAAC,IAAY,EAAE,OAA0D;IAA1D,wBAAA,EAAA,YAAsB,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE;IAC/F,IAAM,KAAK,GAAa,EAAE,CAAC;IAC3B,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;IAChC,OAAO,KAAK,CAAC;AACf,CAAC;AAJD,4BAIC;AAED,SAAS,SAAS,CAAC,IAAY,EAAE,KAAe,EAAE,OAAiB;IACzD,IAAA,mBAAkB,EAAlB,uCAAkB,EAAE,sBAAgB,EAAhB,qCAAgB,CAAa;IACzD,gBAAW,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAA,IAAI;QACxB,IAAM,QAAQ,GAAG,cAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACrC,IAAI,aAAQ,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,EAAE;YACpC,IAAI,SAAS,EAAE;gBACb,KAAK;gBACL,SAAS,CAAC,QAAQ,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;aACrC;SACF;aAAM;YACL,IAAI,MAAM,EAAE;gBACV,IAAI,MAAM,CAAC,QAAQ,CAAC,EAAE;oBACpB,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACtB;aACF;iBAAM;gBACL,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aACtB;SACF;IACH,CAAC,CAAC,CAAC;IACH,OAAO,KAAK,CAAC;AACf,CAAC","sourcesContent":["import { readdirSync, statSync } from \"fs\";\nimport { resolve } from \"path\";\n\ninterface IOptions {\n  /**\n   * 自定义过滤方法\n   */\n  filter?: (fileName: string) => boolean;\n  /**\n   * 是否递归。默认 true\n   */\n  recursive?: boolean;\n}\n\n/**\n * 获取目录下所有文件\n * @param path\n * @param options 可指定过滤方法\n */\nexport function getFiles(path: string, options: IOptions = { recursive: true, filter: undefined }) {\n  const files: string[] = [];\n  _getFiles(path, files, options);\n  return files;\n}\n\nfunction _getFiles(path: string, files: string[], options: IOptions) {\n  const { filter = undefined, recursive = true } = options;\n  readdirSync(path).map(file => {\n    const fullName = resolve(path, file);\n    if (statSync(fullName).isDirectory()) {\n      if (recursive) {\n        // 递归\n        _getFiles(fullName, files, options);\n      }\n    } else {\n      if (filter) {\n        if (filter(fullName)) {\n          files.push(fullName);\n        }\n      } else {\n        files.push(fullName);\n      }\n    }\n  });\n  return files;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a7952b709024b76552680dffdfcf6cb27942fd1d","contentHash":"630627b856d5989f704c9f32eff8e2cd1287d597f5be0db206eeea5c3d05e49f"}}